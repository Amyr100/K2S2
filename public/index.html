<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Блог — тёмная тема</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-[#0B0B13] text-gray-100 min-h-screen font-[Inter]">
  <div class="max-w-5xl mx-auto px-4 py-6">
    <header class="flex items-center justify-between mb-6">
      <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight">
        <span class="neon-text">DarkBlog</span> <span class="text-gray-400 text-base md:text-lg">— учебное приложение</span>
      </h1>
      <div id="authArea" class="space-x-2">
        <button class="btn" onclick="openModal('loginModal')">Вход</button>
        <button class="btn-secondary" onclick="openModal('registerModal')">Регистрация</button>
      </div>
      <div id="userArea" class="hidden items-center space-x-3">
        <span id="helloUser" class="text-sm text-gray-300"></span>
        <button class="btn" onclick="logout()">Выйти</button>
      </div>
    </header>

    <nav id="navTabs" class="hidden mb-5 flex flex-wrap gap-2">
      <button class="tab" data-tab="public" onclick="switchTab('public')">Публичные</button>
      <button class="tab" data-tab="feed" onclick="switchTab('feed')">Лента</button>
      <button class="tab" data-tab="myposts" onclick="switchTab('myposts')">Мои посты</button>
      <button class="tab" data-tab="users" onclick="switchTab('users')">Пользователи</button>
      <button class="tab" data-tab="requests" onclick="switchTab('requests')">Запросы</button>
    </nav>

    <!-- Create Post -->
    <section id="postSection" class="hidden mb-8">
      <h2 class="section-title">Создать пост</h2>
      <div class="card space-y-4">
        <input id="postTitle" class="input" placeholder="Заголовок">
        <textarea id="postContent" class="textarea" rows="5" placeholder="Текст поста..."></textarea>
        <input id="postTags" class="input" placeholder="Теги через запятую (например: js, tailwind)">
        <div class="flex flex-wrap gap-3 items-center">
          <label class="text-sm text-gray-300">Видимость:</label>
          <select id="postVisibility" class="select">
            <option value="public">Публичный</option>
            <option value="request">Только по запросу</option>
          </select>
          <button class="btn" onclick="createPost()">Опубликовать</button>
        </div>
      </div>
    </section>

    <!-- Filters -->
    <section id="filters" class="hidden mb-6">
      <div class="card flex flex-col md:flex-row gap-3 md:items-center">
        <input id="filterTag" class="input" placeholder="Фильтр по тегу (точное совпадение)">
        <select id="sortMode" class="select">
          <option value="date_desc">Сначала новые</option>
          <option value="date_asc">Сначала старые</option>
          <option value="title_asc">Заголовок A→Я</option>
          <option value="title_desc">Заголовок Я→A</option>
        </select>
        <button class="btn" onclick="reloadActive()">Применить</button>
      </div>
    </section>

    <!-- Lists -->
    <section id="listPublic" class="hidden"></section>
    <section id="listFeed" class="hidden"></section>
    <section id="listMyPosts" class="hidden"></section>
    <section id="listUsers" class="hidden"></section>
    <section id="listRequests" class="hidden"></section>
  </div>

  <!-- Login Modal -->
  <div id="loginModal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-header">
        <h3 class="text-xl font-bold">Вход</h3>
        <button class="icon-btn" onclick="closeModal('loginModal')">✕</button>
      </div>
      <div class="space-y-3">
        <input id="loginUser" class="input" placeholder="Логин (напр. alice)">
        <input id="loginPass" class="input" type="password" placeholder="Пароль (напр. alice)">
        <button class="btn w-full" onclick="login()">Войти</button>
        <p class="text-sm text-gray-400">Нет аккаунта? <a href="#" class="link" onclick="closeModal('loginModal'); openModal('registerModal')">Зарегистрироваться</a></p>
      </div>
    </div>
  </div>

  <!-- Register Modal -->
  <div id="registerModal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-header">
        <h3 class="text-xl font-bold">Регистрация</h3>
        <button class="icon-btn" onclick="closeModal('registerModal')">✕</button>
      </div>
      <div class="space-y-3">
        <input id="regUser" class="input" placeholder="Логин">
        <input id="regPass" class="input" type="password" placeholder="Пароль">
        <button class="btn w-full" onclick="register()">Зарегистрироваться</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
